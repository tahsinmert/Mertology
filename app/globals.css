@import "tailwindcss";
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/forms";

/* Smooth page transitions */
html {
  scroll-behavior: smooth;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgb(161 161 170);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(113 113 122);
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-thumb {
  background: rgb(82 82 91);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgb(113 113 122);
}

/* Line clamp utility */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

/* CSS variables for light/dark to pair with Tailwind v4 inline theme */
:root {
  --background: #ffffff;
  --foreground: #0a0a0a;
}
.dark:root {
  --background: #0a0a0a;
  --foreground: #ededed;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans);
  --font-serif: var(--font-serif);
}

html {
  color-scheme: light dark;
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system,
    "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
    "Segoe UI Emoji";
}

/* Prose for article content */
.prose-custom {
  @apply prose prose-zinc dark:prose-invert max-w-none prose-headings:font-serif prose-h1:text-6xl prose-h1:leading-tight prose-h2:text-4xl prose-h3:text-2xl prose-p:text-lg prose-p:leading-8 prose-img:rounded-xl prose-p:text-zinc-900 dark:prose-p:text-zinc-200; 
}

/* Finer text rhythm and measure */
.prose-custom p { hyphens: auto; }
.prose-custom .text-lg { @apply text-zinc-900 dark:text-zinc-200; }
.prose-custom a { text-underline-offset: 3px; }
.prose-custom ul { @apply ml-5; }
.prose-custom li { @apply leading-7; }

/* Explicit light/dark overrides with :where to match Tailwind Typography selectors */
.prose-custom :where(p):not(:where(.not-prose *)) { color: #0a0a0a !important; }
.prose-custom :where(li):not(:where(.not-prose *)) { color: #0a0a0a !important; }
.prose-custom :where(h1,h2,h3,h4,h5,h6):not(:where(.not-prose *)) { color: #0a0a0a !important; }
.prose-custom :where(blockquote,p blockquote,blockquote p):not(:where(.not-prose *)) { color: #0a0a0a !important; }
.prose-custom :where(strong,em,code,figcaption):not(:where(.not-prose *)) { color: #0a0a0a !important; }
.prose-custom :where(a):not(:where(.not-prose *)) { color: #0a0a0a !important; text-underline-offset: 3px; }

/* Lead paragraph */
.prose-custom .lead, .prose-custom p:first-of-type {
  font-size: 1.25rem;
  line-height: 2rem;
  letter-spacing: -0.01em;
}

/* Pull quotes with divider */
.prose-custom blockquote {
  border-left: 0;
  margin: 2.5rem 0;
  padding: 0 0 0 0;
}
.prose-custom blockquote p {
  font-family: var(--font-serif);
  font-size: 1.5rem;
  line-height: 2.2rem;
}
.prose-custom hr {
  border: 0;
  height: 1px;
  background: linear-gradient(to right, transparent, rgba(0,0,0,.15), transparent);
}
.dark .prose-custom hr {
  background: linear-gradient(to right, transparent, rgba(255,255,255,.25), transparent);
}

/* Better list spacing */
.prose-custom ul, .prose-custom ol { margin-top: 1rem; margin-bottom: 1rem; }
.prose-custom li + li { margin-top: .35rem; }
.dark .prose-custom :where(p,li,blockquote,figcaption,strong,em,code):not(:where(.not-prose *)) { color: #e5e5e5 !important; }
.dark .prose-custom :where(h1,h2,h3,h4,h5,h6):not(:where(.not-prose *)) { color: #ffffff !important; }
.dark .prose-custom :where(a):not(:where(.not-prose *)) { color: #ffffff !important; }

/* Magazine-style multi-column on large screens */
.prose-columns {
  column-gap: 3rem;
}
@media (min-width: 1024px) {
  .prose-columns {
    column-count: 2;
    column-fill: balance;
  }
}

/* Drop cap for first paragraph */
.prose-dropcap p:first-of-type::first-letter {
  float: left;
  font-family: var(--font-serif);
  font-size: 4rem;
  line-height: 1;
  padding-right: 0.5rem;
  padding-top: 0.2rem;
}

/* Avoid breaking figures/quotes across columns */
.avoid-column-break {
  break-inside: avoid-column;
}

/* Pull-quote styling */
.pull-quote {
  @apply font-serif text-3xl md:text-4xl leading-snug text-zinc-900 dark:text-zinc-100 my-10 px-6; 
  break-inside: avoid-column;
}
.pull-quote::before, .pull-quote::after { content: ""; }

/* Smooth transitions */
* {
  @apply transition-colors duration-200 ease-out;
}
